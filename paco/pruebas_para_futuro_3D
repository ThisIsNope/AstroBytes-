<!DOCTYPE html>
<html lang="en">

<head>
     <title>Tierra y Luna</title>
     <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.min.js"></script>
</head>

       

<body>
     <button id="stopBtn">Detener</button>
     <button id="contBtn">seguir</button>
     <script>
          let running = true;

          function preload() {
               textura_sol = loadImage('SOL.gif');
               textura_Mercurio = loadImage('mercurio.jpg');
               textura_fondo_estrellas = loadImage("https://i.ibb.co/NNTFKmL/nocheHD.jpg");
               textura_venus = loadImage("venus.jpg");
               textura_tierra = loadImage("tierra.jpg");
               textura_luna = loadImage("luna.jpeg");
          }

          function setup() {
               createCanvas(1000, 1000, WEBGL);
               document.getElementById('stopBtn').addEventListener('click', () => {
                    running = false;
                    noLoop();
               });
               document.getElementById('contBtn').addEventListener('click', () => {
                    running = true;
                    loop();
               });
          }
          
          function draw() {
               background("black")
               
               noStroke() //No dibujar la malla de las esferas
               
               texture(textura_fondo_estrellas)
               sphere(2000)


               orbitControl() //Controlar con el mouse la camara

               push()
               rotateY(-frameCount * 0.003); //rotación del sol
               texture(textura_sol); 
               sphere(100);
               pop()

               push()
               rotateY(-frameCount * 0.01 / 10);//Traslación
               translate(0, 0, 200)//Distancia del centro del sol al centro de la mercurio
               rotateY(-frameCount * 0.005);//Rotación de mercurio
               texture(textura_Mercurio);
               sphere(25);
               pop()

               push()
               rotateY(-frameCount * 0.005 / 10);//Traslación
               translate(0, 0, 305)//Distancia del centro del sol al centro de la venus
               rotateY(-frameCount * 0.0005);//Rotación de venus
               texture(textura_venus);
               sphere(50);
               pop()

               push()
               rotateY(-frameCount * 0.001 / 10);//Traslación
               translate(0, 0, 424)//Distancia del centro del sol tierra
               rotateY(-frameCount * 0.0001);//Rotación de tierra
               texture(textura_tierra);
               sphere(45);

               push()
               rotateY(frameCount * 0.005); // Órbita de la luna alrededor de la tierra
               translate(0, 0, 80); // Distancia de la tierra a la luna
               rotateY(frameCount * 0.01); // Rotación de la luna
               texture(textura_luna);
               sphere(10);
               pop()

               pop()


          }

     </script>
      <div id="chat-container">
            <button id="screenshot-btn">camara</button>
            <div id="chat-output"></div>
        </div>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
        <script>
            document.getElementById('screenshot-btn').addEventListener('click', function() {
                html2canvas(document.body).then(function(canvas) {
                    //descarga
                    var link = document.createElement('a');
                    link.download = 'captura.png';
                    link.href = canvas.toDataURL();
                    link.click();
                });
            });
        </script>
</body>

</html>